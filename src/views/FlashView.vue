<template>

    <body>
        <div class="wrapper4">
            <h1 type="text">{{ uiLabels.flashcard }}</h1>
        </div>
        <div class="scene sceneCard">
            <div class="card" v-bind:class="{ flip: cardOne == 'flipped' }">
                <div class="card__face card__faceFront"></div>
                <div class="card__face"
                    v-bind:class="{ card__faceBackWrong: cardOneWord == 'wrong', card__faceBackRight: cardOneWord == 'right' }">
                </div>
            </div>
        </div>
        <div class="inter">
            <input type="text" placeholder="answer" class="wrapper5" v-model="cardOneWord">
            <div>
                <div class="wrapper6">
                    <button class="submit" @click="[flipCard()], [getAnswer()]">{{
                            uiLabels.submit
                    }}</button>
                </div>
            </div>
            <div>
                <button class="exitbutton" @click="$router.push('/')">Exit</button>
            </div>
        </div>
    </body>
</template>

<script>
import io from 'socket.io-client';
const socket = io();

export default {

    data: function () {
        return {
            lang: "",
            uiLabels: {},
            cardOne: "",
            answer: "",
            cardOneWord: "",
            wordArray: ['hej', 'tvÃ¥', 'tre'],
        }
    },

    created: function () {
        this.lang = this.$route.params.lang;
        socket.emit("pageLoaded", this.lang);
        socket.on("init", (labels) => {
            this.uiLabels = labels
        })
        socket.on("dataUpdate", (data) =>
            this.data = data
        )
        socket.on("pollCreated", (data) =>
            this.data = data)
    },
    methods: {
        flipCard: function () {
            (this.cardOne == 'start' ? (this.cardOne = 'flipped') : (this.cardOne = 'start'))
        },

        getAnswer: function () {
            if (this.cardOneWord) {
                return this.cardOneWord == 'right'
            }
            else {
                return this.cardOneWord == 'wrong'
            }
        }
    }
}
</script>

<style>
body {
    background-color: #d8ecff;
}

.wrapper5 {
    text-align: center;
    color: black;
    border: 1px ridge rgb(177, 177, 177);
    border-radius: 50px;
    background-color: white;
    margin-top: 10px;
    justify-content: center;
    height: 50px;
    width: 300px;
    font-size: 15px;
    font-family: 'Comfortaa', cursive;
}

.wrapper4 {
    margin-left: auto;
    margin-right: auto;
    justify-content: center;
    text-align: center;
    height: 50px;
    width: 300px;
    font-size: 15px;
    font-family: 'Comfortaa', cursive;
}

.wrapper6 {
    margin-left: auto;
    margin-right: auto;
    justify-content: center;
    text-align: center;
    height: 50px;
    width: 300px;
    font-size: 15px;
    font-family: 'Comfortaa', cursive;
}

.inter {
    margin: 20px;
    padding: 20px;
}

.text {
    color: black;
    font-size: 35px;
    font-family: 'Comfortaa', cursive;
    text-align: center;
    margin-top: 150px;
}


.submit {
    text-align: center;
    color: white;
    border: 1px ridge rgb(177, 177, 177);
    border-radius: 50px;
    background-color: #3f51b5;
    margin-top: 10px;
    justify-content: center;
    height: 50px;
    width: 300px;
    font-size: 15px;
    font-family: 'Comfortaa', cursive;
}

.submit:hover {
    cursor: pointer;
    width: 300px;
    height: 50px;
    background-color: #56c770;
}

.exitbutton {
    width: 4rem;
    height: 2rem;
    border-radius: 5px;
    border-color: rgb(227, 123, 123);
    margin: 2.5rem;
    color: white;
    background-color: rgb(235, 76, 76);
    position: absolute;
    bottom: 0;
    left: 0;
    font-size: 15px;
    font-family: 'Comfortaa', cursive;
}

.exitbutton:hover {

    cursor: pointer;
    width: 4rem;
    height: 2rem;
    background-color: rgb(187, 34, 34);
}

.scene {
    margin-left: auto;
    margin-right: auto;
    justify-content: center;
    border-radius: 50px;
    width: 800px;
    height: 500px;
}

.card {
    position: absolute;
    line-height: 260px;
    color: white;
    text-align: center;
    font-family: 'Comfortaa', cursive;
    font-size: 20px;
    width: 800px;
    height: 500px;
    transition: transform 1s;
    transform-style: preserve-3d;
    cursor: pointer;
    margin: auto;
    border-radius: 50px;
    perspective: 1000px;
}

.card__face {
    position: absolute;
    line-height: 260px;
    color: white;
    text-align: center;
    backface-visibility: hidden;
    font-family: 'Comfortaa', cursive;
    font-size: 20px;
    width: 800px;
    height: 500px;
    background: #3f51b5;
    margin: auto;
    border-radius: 50px;
}

.card__faceFront {
    background: #3f51b5;
}

.card__faceBackRight {
    background: #56c770;
    transform: rotateX(180deg);
}

.card__faceBackWrong {
    background: rgb(235, 76, 76);
    transform: rotateX(180deg);
}

.noflip {
    transform: rotateX(0deg);
}

.flip {
    transform: rotateX(180deg);
}
</style>
